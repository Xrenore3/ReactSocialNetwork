(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{131:function(e,t,n){e.exports={loginBlock:"LoginInfo_loginBlock__bKYk3",logoBlock:"LoginInfo_logoBlock__3VgBZ"}},132:function(e,t,n){e.exports={userBlock:"Users_userBlock__2By7E"}},133:function(e,t,n){e.exports=n.p+"static/media/preloader.72f54657.svg"},134:function(e,t,n){e.exports=n.p+"static/media/avatar.a3e84511.jpeg"},135:function(e,t,n){e.exports={item:"Post_item__1sx0W"}},136:function(e,t,n){e.exports=n.p+"static/media/logo.c06ccd00.svg"},162:function(e,t,n){e.exports=n(287)},245:function(e,t,n){},25:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2yQ9_",dialogsItem:"Dialogs_dialogsItem__1k-N1",dialog:"Dialogs_dialog__1gDxs",messages:"Dialogs_messages__9DS-K",message:"Dialogs_message__1Fa1D",active:"Dialogs_active__Zi-d-"}},287:function(e,t,n){"use strict";n.r(t);n(93),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(9),r=n.n(a),o=n(14),c=n(24),l=n(4),i=n(20),s=n(127),u=n.n(s).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"e65ceddf-4a19-45aa-80c4-7330d9f88838"}}),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return u.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},f=function(e){return u.delete("/follow/".concat(e))},p=function(e){return u.post("/follow/".concat(e))},d=function(e){return console.warn("Please use profileAPI object"),b.getProfile(e)},E=function(){return u.get("auth/me").then((function(e){return e.data}))},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return u.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a})},h=function(){return u.delete("auth/login")},b={getProfile:function(e){return u.get("profile/"+e).then((function(e){return e.data}))},getStatus:function(e){return u.get("profile/status/".concat(e))},updateStatus:function(e){return u.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),u.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfileChanges:function(e){return u.put("profile",e)}},v=function(){return u.get("security/get-captcha-url")},A={posts:[{id:"1",message:"First Post",likesCount:15},{id:"2",message:"Second Post",likesCount:13},{id:"3",message:"Third Post",likesCount:12},{id:"4",message:"Four Post",likesCount:15}],profile:null,status:" "},O=function(e){return{type:"SET_STATUS",status:e}},j=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:a=t.sent,n({type:"SET_USER_PROFILE",profile:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(l.a)(Object(l.a)({},e),{},{posts:[].concat(Object(c.a)(e.posts),[{id:5,message:t.newPostBody,likesCount:0}])});case"SET_USER_PROFILE":return Object(l.a)(Object(l.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(l.a)(Object(l.a)({},e),{},{status:t.status});case"DELETE_POST":return Object(l.a)(Object(l.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.idPost}))});case"SAVE_PHOTO_SUCCESS":return Object(l.a)(Object(l.a)({},e),{},{profile:Object(l.a)(Object(l.a)({},e.profile),{},{photos:t.photos})});default:return e}},y=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(l.a)(Object(l.a)({},e),a):e}))},I={dialogs:[{id:1,name:"Sasha",messages:["How are you?"]},{id:2,name:"Maria",messages:["I hate you","Hi"]},{id:3,name:"Ivan",messages:["HI"]},{id:4,name:"Sergiy",messages:["How are you?"]}]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-NEW-MESSAGE":return Object(l.a)(Object(l.a)({},e),{},{dialogs:Object(c.a)(e.dialogs.map((function(e){return e.id===t.id?Object(l.a)(Object(l.a)({},e),{},{messages:[].concat(Object(c.a)(e.messages),[t.newMessageBody])}):e})))});default:return e}},S=n(6),k={users:[],pageSize:10,totalUsersCount:0,currentPage:1,portionNumber:1,isFetching:!0,userFollowingProgress:[]},N=function(e){return{type:"FOLLOW",userId:e}},C=function(e){return{type:"UNFOLLOW",userId:e}},B=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},T=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(l.a)(Object(l.a)({},e),{},{users:y(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(l.a)(Object(l.a)({},e),{},{users:y(e.users,t.userId,"id",{followed:!1})});case"SET USERS":return Object(l.a)(Object(l.a)({},e),{},{users:t.users});case"SET CURRENT PAGE":return Object(l.a)(Object(l.a)({},e),{},{currentPage:t.currentPage,portionNumber:t.portionNumber});case"SET_TOTAL_COUNT":return Object(l.a)(Object(l.a)({},e),{},{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(l.a)(Object(l.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(l.a)(Object(l.a)({},e),{},{userFollowingProgress:t.isFetching?[].concat(Object(c.a)(e.userFollowingProgress),[t.userId]):e.userFollowingProgress.filter((function(e){return e!==t.userId}))});default:return e}},M={id:null,email:null,login:null,isLogin:!1,captchaUrl:null},F=function(e,t,n,a){return{type:"SET_USER_DATA",payload:{email:t,id:e,login:n,isLogin:a}}},x=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,o,c,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:0===(n=e.sent).resultCode&&(a=n.data,o=a.email,c=a.id,l=a.login,t(F(c,o,l,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:n=e.sent,t({type:"SET_CAPTCHA_URL",payload:{captchaUrl:n.data.url}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":case"SET_CAPTCHA_URL":return Object(l.a)(Object(l.a)({},e),t.payload);default:return e}},D=n(128),G=n(126),R={initialized:!1},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITILIZED_SUCCESS":return Object(l.a)(Object(l.a)({},e),{},{initialized:!0});default:return e}},K=Object(S.c)({profilePage:w,dialogPage:P,usersPage:L,auth:U,form:G.a,app:Q}),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.d,z=Object(S.e)(K,W(Object(S.a)(D.a)));window.store=z;var J=z,q=n(0),Z=n.n(q),V=n(63),X=n.n(V),Y=n(29),_=n(30),$=n(32),ee=n(31),te=(n(245),n(36)),ne=n.n(te),ae=n(12),re=n(10),oe=n(131),ce=n.n(oe),le=function(e){return Z.a.createElement("div",{className:ce.a.loginBlock},e.isLogin?Z.a.createElement("div",null,Z.a.createElement("div",null,e.login),Z.a.createElement("div",null,Z.a.createElement("button",{onClick:e.logout},"Log Out"))):Z.a.createElement(ae.b,{to:"/login"}," Login"))},ie=Object(re.b)((function(e){return{isLogin:e.auth.isLogin,login:e.auth.login}}),{logout:function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:0===e.sent.data.resultCode&&t(F(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){return Z.a.createElement("nav",{className:ne.a.nav},Z.a.createElement(ae.b,{activeClassName:ne.a.activeLink,to:"/profile"},Z.a.createElement("div",{className:ne.a.item},"Profile")," "),Z.a.createElement(ae.b,{activeClassName:ne.a.activeLink,to:"/dialogs/1"},Z.a.createElement("div",{className:ne.a.item},"Messages")," "),Z.a.createElement(ae.b,{activeClassName:ne.a.activeLink,to:"/users"},Z.a.createElement("div",{className:ne.a.item},"Users")," "),Z.a.createElement(le,{isLogin:e.isLogin,login:e.login,logout:e.logout}))})),se=n(11),ue=n(25),me=n.n(ue),fe=function(e){return Z.a.createElement("div",{className:me.a.dialog+" "+me.a.active},Z.a.createElement(ae.b,{to:"/dialogs/".concat(e.id)},e.name))},pe=n(124),de=n(125),Ee=function(e){return e||"number"===typeof e?void 0:"Required"},ge=function(e){return function(t){return t&&t.length>e?"Max is ".concat(e):void 0}},he=n(67),be=n(34),ve=n.n(be),Ae=function(e){var t=e.input,n=e.meta,a=Object(he.a)(e,["input","meta"]),r=n.touched&&n.error,o=a.typefield;return Z.a.createElement("div",{className:ve.a.formControl},Z.a.createElement("div",null,"textarea"===o?Z.a.createElement("textarea",Object.assign({},t,a,{className:r&&ve.a.error})):Z.a.createElement("input",Object.assign({type:o},t,a,{className:r&&ve.a.error}))),r&&Z.a.createElement("span",null,n.error))},Oe=ge(50),je=Object(de.a)({form:"addMessage"})((function(e){return Z.a.createElement("form",{onSubmit:e.handleSubmit},Z.a.createElement("div",null,Z.a.createElement(pe.a,{component:Ae,typefield:"textarea",name:"newMessageBody",placeholder:"Write here, bitch",validate:[Oe,Ee]})),Z.a.createElement("div",null,Z.a.createElement("button",null,"Send message")))})),we=function(e){var t=e.messages.map((function(e){return Z.a.createElement("div",{className:me.a.message},e)})),n=function(t){e.addMessages(t.newMessageBody,e.id)};return Z.a.createElement(se.b,{render:function(){return Z.a.createElement("div",null,t,Z.a.createElement(je,{onSubmit:n}))},path:"/dialogs/".concat(e.id)})},ye=function(e){var t=e.dialogsData.dialogs.map((function(t){return Z.a.createElement(we,{messages:t.messages,id:t.id,addMessages:e.addMessages})})),n=e.dialogsData.dialogs.map((function(e){return Z.a.createElement(fe,{name:e.name,id:e.id})}));return Z.a.createElement("div",{className:me.a.dialogs},Z.a.createElement("div",{className:me.a.dialogsItems},n),Z.a.createElement("div",{className:me.a.messages},Z.a.createElement("div",null,t)))},Ie=function(e){return{isLogin:e.auth.isLogin}},Pe=Object(S.d)(Object(re.b)((function(e){return{dialogsData:e.dialogPage}}),{addMessages:function(e,t){return{type:"ADD-NEW-MESSAGE",newMessageBody:e,id:t}}}),(function(e){var t=function(t){Object($.a)(a,t);var n=Object(ee.a)(a);function a(){return Object(Y.a)(this,a),n.apply(this,arguments)}return Object(_.a)(a,[{key:"render",value:function(){return this.props.isLogin?Z.a.createElement(e,this.props):Z.a.createElement(se.a,{to:"/login"})}}]),a}(Z.a.Component);return Object(re.b)(Ie,{})(t)}))(ye),Se=n(132),ke=n.n(Se),Ne=function(e){var t=e.user,n=Object(he.a)(e,["user"]);return Z.a.createElement("div",{className:ke.a.userBlock},Z.a.createElement("span",null,Z.a.createElement("div",null,Z.a.createElement(ae.b,{to:"/profile/".concat(t.id)},Z.a.createElement("img",{src:null!=t.photos.small?t.photos.small:"data:image/jpeg;base64,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"}))),Z.a.createElement("div",null,t.followed?Z.a.createElement("button",{disabled:n.userFollowingProgress.some((function(e){return e==t.id})),onClick:function(){n.unfollow(t.id)}},"UnFollow"):Z.a.createElement("button",{disabled:n.userFollowingProgress.some((function(e){return e==t.id})),onClick:function(){n.follow(t.id)}},"Follow"))),Z.a.createElement("span",null,Z.a.createElement("span",null,Z.a.createElement("div",null,t.name),Z.a.createElement("div",null," ",t.status))))},Ce=function(e){return Z.a.createElement("div",null,e.users.map((function(t){return Z.a.createElement(Ne,{user:t,userFollowingProgress:e.userFollowingProgress,unfollow:e.unfollow,follow:e.follow})})))},Be=n(133),Te=n.n(Be),Le=function(){return Z.a.createElement("img",{alt:"preloader",src:Te.a})},Me=function(e){return e.usersPage.users},Fe=function(e){return e.usersPage.pageSize},xe=function(e){return e.usersPage.totalUsersCount},He=function(e){return e.usersPage.currentPage},Ue=function(e){return e.usersPage.isFetching},De=function(e){return e.usersPage.userFollowingProgress},Ge=function(e){return e.usersPage.portionNumber},Re=n(40),Qe=n(91),Ke=n.n(Qe),We=function(e){for(var t=e.totalItemsCount,n=e.pageSize,a=e.currentPage,r=e.onPageChanged,o=e.portionSize,c=void 0===o?5:o,l=e.statePortionNumber,i=Math.ceil(t/n),s=[],u=1;u<=i;u++)s.push(u);var m=Math.ceil(i/c),f=Object(q.useState)(l),p=Object(Re.a)(f,2),d=p[0],E=p[1],g=(d-1)*c+1,h=d*c;return Z.a.createElement("div",{className:Ke.a.allPages},d>1&&Z.a.createElement("button",null,"PREV"),s.filter((function(e){return e>=g&&e<=h})).map((function(e){return Z.a.createElement("span",{className:a===e&&Ke.a.selectedPage,onClick:function(){return r(e,d)}},e)})),m>d&&Z.a.createElement("button",{onClick:function(){E(d+1)}},"Next"))},ze=function(e){Object($.a)(n,e);var t=Object(ee.a)(n);function n(){return Object(Y.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){var e=this;return this.props.isFetching?Z.a.createElement(Le,null):Z.a.createElement(Z.a.Fragment,null,Z.a.createElement(We,{statePortionNumber:this.props.statePortionNumber,currentPage:this.props.currentPage,onPageChanged:function(t,n){e.props.setCurrentPage(t,n),e.props.getUsers(e.props.currentPage,e.props.pageSize)},totalItemsCount:this.props.totalUsersCount,pageSize:this.props.pageSize}),Z.a.createElement(Ce,{users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,toggleIsFetching:this.props.toggleIsFetching,userFollowingProgress:this.props.userFollowingProgress}))}}]),n}(Z.a.Component),Je=Object(S.d)(Object(re.b)((function(e){return{users:Me(e),pageSize:Fe(e),totalUsersCount:xe(e),currentPage:He(e),statePortionNumber:Ge(e),isFetching:Ue(e),userFollowingProgress:De(e)}}),{follow:function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(T(!0,e)),t.next=3,p(e);case 3:0===t.sent.data.resultCode&&n(N(e)),n(T(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(T(!0,e)),t.next=3,f(e);case 3:0===t.sent.data.resultCode&&n(C(e)),n(T(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:function(e,t){return{type:"SET CURRENT PAGE",currentPage:e,portionNumber:t}},getUsers:function(e,t){return function(){var n=Object(o.a)(r.a.mark((function n(a){var o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(B(!0)),n.next=3,m(e,t);case 3:o=n.sent,a(B(!1)),a({type:"SET USERS",users:o.items}),a({type:"SET_TOTAL_COUNT",count:o.totalCount});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(ze),qe=n(35),Ze=n.n(qe),Ve=function(e){var t=Object(q.useState)(!1),n=Object(Re.a)(t,2),a=n[0],r=n[1],o=Object(q.useState)(e.status),c=Object(Re.a)(o,2),l=c[0],i=c[1];Object(q.useEffect)((function(){i(e.status)}),[e.status]);return Z.a.createElement("div",null,!a&&Z.a.createElement("div",null,Z.a.createElement("span",{onDoubleClick:function(){r(!0)}},Z.a.createElement("b",null,"Status: "),e.status||"No status")),a&&Z.a.createElement("div",null,Z.a.createElement("input",{onChange:function(e){i(e.currentTarget.value)},value:l,onBlur:function(){r(!1),e.updateStatus(l)},autoFocus:!0})))},Xe=n(134),Ye=n.n(Xe),_e=ge(30),$e=Object(de.a)({form:"changeProfileInfo"})((function(e){return Z.a.createElement("form",{onSubmit:e.handleSubmit},Z.a.createElement("button",null,"save"),Z.a.createElement("div",null,Z.a.createElement("b",null,"Full name: "),Z.a.createElement(pe.a,{name:"fullName",component:Ae,typefield:"text",validate:[Ee,_e]})),Z.a.createElement("div",null,Z.a.createElement("b",null,"About me: "),Z.a.createElement(pe.a,{name:"aboutMe",component:Ae,typefield:"text",validate:[Ee,_e]})),Z.a.createElement("div",null,Z.a.createElement("b",null,"Looking for a job: "),Z.a.createElement(pe.a,{name:"lookingForAJob",component:Ae,typefield:"checkbox"})),Z.a.createElement("div",null,Z.a.createElement("b",null,"My professional skills: "),Z.a.createElement(pe.a,{name:"lookingForAJobDescription",component:Ae,typefield:"textarea",validate:[Ee,_e]})),Z.a.createElement("div",null,Z.a.createElement("b",null,"Contacts:"),Object.keys(e.profile.contacts).map((function(e){return Z.a.createElement("div",{key:e},Z.a.createElement("div",null,Z.a.createElement("b",null,e,": "),Z.a.createElement(pe.a,{name:"contacts."+e,component:Ae,typefield:"text"})))}))),e.error&&Z.a.createElement("div",{className:ve.a.formSummaryError},e.error))})),et=function(e){return Z.a.createElement("div",null,Z.a.createElement("button",{onClick:e.activateEditMode},"Edit"),Z.a.createElement("div",null,Z.a.createElement("b",null,"Full name: "),e.profile.fullName),Z.a.createElement("div",null,Z.a.createElement("b",null,"About me: "),e.profile.aboutMe),Z.a.createElement("div",null,Z.a.createElement("b",null,"Looking for a job: "),e.profile.lookingForAJob?"Yes":"No"),Z.a.createElement("div",null,Z.a.createElement("b",null,"My professional skills: "),e.profile.lookingForAJobDescription),Z.a.createElement("div",{className:Ze.a.profileContactsBlock},Z.a.createElement("b",null,"Contacts:"),Object.keys(e.profile.contacts).map((function(t){return Z.a.createElement("div",{key:t},Z.a.createElement("div",null,Z.a.createElement("b",null,t,": "),e.profile.contacts[t]))}))))},tt=function(e){var t=Object(q.useState)(!1),n=Object(Re.a)(t,2),a=n[0],r=n[1];if(!e.profile)return Z.a.createElement(Le,null);return Z.a.createElement("div",{className:Ze.a.profileBlock},Z.a.createElement("div",{className:Ze.a.discriptionBlock},Z.a.createElement("img",{className:Ze.a.avatar,src:e.profile.photos.large||Ye.a}),Z.a.createElement("div",null,e.isOwner&&Z.a.createElement("input",{onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])},type:"file"}))),Z.a.createElement("div",{className:Ze.a.aboutInfo},Z.a.createElement("p",{className:Ze.a.fullName},e.profile.fullName),Z.a.createElement(Ve,{status:e.status,updateStatus:e.updateStatus})),a?Z.a.createElement($e,{profile:e.profile,initialValues:e.profile,onSubmit:function(t){e.saveProfileChanges(t).then((function(){r(!1)}))}}):e.isOwner&&Z.a.createElement(et,Object.assign({},e,{activateEditMode:function(){return r(!0)}})))},nt=n(92),at=n.n(nt),rt=n(135),ot=n.n(rt),ct=function(e){return Z.a.createElement("div",{className:ot.a.item},Z.a.createElement("img",{alt:"noun",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAABR1BMVEX/wgD/////6L5ncHmKXEL53KTexJL/wwD/wADn5+f/xQBDSVVjbHaIWkP/6r/a29zh4eGTmZ53gIfS1NW1uLyGWET/+ej//ff/4o3//PFjbnt0eXy8rIv/78iGVz3/9df/yiH/67f/z0D/yjL53ar+4Kbx1Z9cZG5PVmH/9uL/3X//11n/6axITlr/5Zb/1E//2Gn/33v/0mPFkCf/13LkqxmQYT/w1q6kfF+UaEzAnn3/z0nr0arm1LKxp4+Wkoa/wL6cbDmmdDLOmBuVZTrxtQmaajm0kHHau5fFpYO6hir62ZGUh16djVLLpT6ulVB0d2+LioOfoqLpsA3aoRXMlR2reC+7hyaziVrpyY/YtofKp3u3kWu5oVHEuaN8e2TBoD3Vqyjr2LWJgmXarhpzd2zPwaitlkGrnoWRh1aWjn3PxJyGjI3qnnHZAAAUpklEQVR4nM2d+V/bOBbAHXLYGCct0BCSlMQBQoBylZtCy5lylRZIoLudmbZMy3R2m///55V8JL4k60lKZ99PfIA4+vo9vUuyrCT6K4VCoVitLb1cWZ40TVNXVUVVdfTT5PLKy6VatYj+3ucRKH27cnFsrlqbf2HqmiVKUOxf6+byfK06N1bs2zj6Q1isTtTml81IsihSHWFOVMf6Mhb5hIVqrb4+qTOw+Tn1yfV6rSrfZmUTTizN75oKjK5LqZi780sTkiGlEk6Mr07pfHRdSn1qdXxC5qDkERaXdk1ViM4V1dwdl+d5ZBHWloETjy6atlyTNDIZhIW5JVMqn81oLs3JmJLihGMT84Jzjwipz0+IRxBRwrHcep/4bMb1nCijGGFxYaWPfDbjyoKY1xEiXFg1uYaNUlMkrI7XXF34hwhzuxx8FpvWbG202y32D+3W/gHCuRdQ81SRKK3ji6PNVCqVTa1BPq+9mPvFhGPjKgxQVZHiju9T+Xw+iwBThxvMVmojquOcLoeLsFibhPI1N+6OsjYclqMNHXQBzDhZ43I5PITQAKjrzeP7zR6epUEooB0efwlhcWEKxKfqrbWjlJcvtckDiBmnOCIHmLC6DhqdqjfXDlNevFQqf8cHiERfr/abcGEKNiLlOMiXyh4qXidjB0dbGJzPFDQ4wgiLL0F8yEBDfEiFto2qDprW3GgfH9/dHR+3N5qKxUkHfQmzVBBh1YTMQFXR1vIhvlT2XrMio9Zsttfu32bzPtk8+thuokKFQqmZIEsFEBZqDC60NzBV2zjKh/iQCtuW3u7uT3BsDN0BTPz2ot3SKCar1gBlFTvh2DiD3vSmexPU5tpJWIGI4KSF8prDVAScl/Lkoo1Mlvg9gPDPTFhdYQHcOHYI9dZFeAZao397f5iNMN4QZOporaUQ9bjCbKmshBO78Xyq2nZzFX3jiAhBUZ7//1KHa00i4i5r9GckrDEECVW52/zoaLAdaaFAQXq80IiIUzWZhAsMgQoBplIt/I+qfrcpDpjPH941aa5NZYuMTIRLDEFCVdbyeeuWq9pa9BSEqC+1edGMi4zauCTCwjhTFLzLp/LHihTAbOrtWpMhwdHGGaJGPGFxnoVPb2ftjFoc0PIwjNXjfHx+E0vICNhCriV72EJmJQx48rEVk7eBEOMIi/MsX6Y2cXDIHjVVXRjwfkNj71IpaixiDGGBCVBRPtqDa+ptUcC3a22UgWtWUs701fMxczGGkCVTs8KfQ9gSDxObSE5OTo4+HrcUJsoYj0onZPOito1iK20fSgj0lmSR2IkbrcywJCZoUAkXGIulNYfr5EQSX5cT1RlrLS2GUaOGfhphjW0Oqq23ruZkadAHuYnKDLrrUWt8hBNsDQsUAKPKQImS37xva9QJOUVJw8mEVYZqwlahhCQ0lvGiRUXcJRdTRMIxlnrQkn6rEEs2e9gmF4tIVoglMYmwwBYnsJH2n89i3FwjV1JIiCkqibDGqkH97heoEBOm7ltUd1ODEVaZe7a6jFqXiS8mldMJUzGasMjcNtQ3foUKkYlS2lK2aGZ0hhpN+JK5L6pf/AIVZjfvWKrFl+yEC6x8yM+8/RWEa2yjicxtogir7GsTenuz/4D5e3LLzSdTUVMxgrC4zgyIjLT/gKnNNmu5uB4xFSMIF9jXvlSN3BaVJllWFaIbHmGnYULGdNS+4gYkVlSQhH+Ml2P2Wx6RoIYIi/OA9SX9jmkaYpydnW0kp6evkJyenqKfd3bwX2I/nH0LWDHWwk2NEGENtD4bGysQHEI7fXV+dra3NZDrycDW3tn5q9PtnTjK7BE9lwnc81oc4Rhkl4XavKcSYrrT8y7agE96nKc7NJvF/S32IWmTwRQ8SMjWt3Bv2Aala4HwTs/39gbCbAFOTPlqm8gIIwz3NAKEc6BtPJRoWEmdnm1h3ZHhPJgDiPJVKpoRZqXIsOaohLCtXPpdtAqRPs63rIEzC4Y834lSZBa4+UZ7QSOsAR8h+Biddm+fsekuZLFn21GKBEQLa1Q1CiFj48KRSEdTQXwg7cUy5j8C9wjukglZlgm9hK1wRlPZPt/i5bMYB863A4iAnMYWc4FEWFwFXUjRW6HConK6J8JnMe6dBgghId+S1SKBcMEEEm6EXOkrIQU6iNjl+K7aBhL6lOghZO+uuYTtIOA59wz0IQ6c+RDzd8CB+TpvHkJYvoZEbftdaeWVBDyb8cznaij7FaLFm7v1CMfWwbvu/W22yqkEE3UIc+ceJQKzGiTa+lgE4QR8166/F7xzJgsQycRpDzF7AiVU9IkwYQFSNVkSXLA4lTIJHclteb0pLG9TcBVVCBHOgVWo+lMaqSpEiB47zTO3Mbqiz4UIWfbMBAkvfITSZqEteyLOVNGWQoQm+CJq00e4LRdwYKCX2+Q/ggenmEFCYM7tEHpSmsr2hFQ+lL71CC/go+vm3y7h8v8b4cDAWZcwewQNiIhw2U9Y5HgCzU+Y2pEM6CU8hBMqWtFHCGpe9Ah9nkY45yYTnvAQjvsIYYWhQ+j3pSm50WLAMw+zmxyEbploE06YXIT+Ev9UMqEnq0nxEJoTHsJxrsfM/TlNZVuumW7tpMQI1fEeYQFY+rqEgQXuc6mEe97cm4dQWe0RQpYqvHLsry3kKtFrpFw6dBYxLMIlvietrF2zXkRp9SHOvL0q5PI0ir7kEsLLCucKoS7GmTxCrwq5ooVbYGBC1t1PYcJAJ6qyvSUL0Fs8ceU0WKydUpiwZvIRursuPSKrvsi98s7C7D3fAM2aQ1jn+3wwbcNKlOVrfKEilWfcqRCSuk3I0aBxJbilTRZh7sxPeMw3PA2v6yPC6iQvoH4ccDWyquDcue+yeXAXw5HJqkUIb0F1CVv+9UNp4SLna3tnD8GdKHeAExYhR/HriKr5lmbkhfzcK58KP/K5UrsMVmBbEwLiN9NtaeHQb6Xs+2lChPNFRDi2zA2I19d6AxFflOkR7nk8DXjtySPLY4hwzuQn9KY12zJ7bd5e4uYx/wFb5hwirAoAKuruv5yZWJFcAHc7bVnwqoVXqoiQ39Gg7P2y/u+K42XkAnbTtsr2v1e5nT12NUqC39Goq+l0um7fbGnZTBfRadPsZNLTl5zVHXY1CaUAPkmnK6vTmPCTNZId2f1gR4mVT/U0QjR5CV8UlALvh5WptC12rJdNaJfAle06/opppocgo8REhLxGrs1P24S/45HsSQe0em2VT/Z3TJuco9QLCk8v2BLVUWH6twpOSOUTWhNxxiHk6yThvrBS5SU0HRWmMxVkTPIBc3v4uu5tvOQcplZVuIPFlEs4syO1Q9MjRNf9XZiwpsDXDUOEv1cq8ho0fsJPwoRLCvujFQHRXUI0EaVHQ4twu1KZcb+D15lqL5UV7nDofnn6U0X6qoxDuOMSTr/gJVxRuCsLbd4lzOxIbuh3Cbe7hCbvMJcV7haGMtmdiNtS6woP4e8u4SX/KBWT+7PqZdfVSOuTBgh/c1XI2dFFMiVAqOy6SvzttC+EOynXlV4KVIgihKabt3067w+ha6QCKkR8/LUXsnHXTrdkbofqEnZnIeBBrJDo1MeHY2XVnSfS+bC4k2CcuzxU8MlAQoTqej8J3UnI7+4VRYwPiekg9pHwUmASymA016f7pcRpKYCCVorF6mX0i1CgRdMlFPGltkxeTvfFTDGgiBe1RReJh66oq/X+EAorUBGM+J7LrF5KB7ycF/Kh3aHJIUTGIDvk18WnjyVTArWFT7RxyYT8C9N+meSvD4NXkru9lGunXZQsC9T4flFrUgl5d08EBdX43H2aoKxLJeTtWgRFe8nfawvKlES+3J9/iKcilmhL/P3SoKgSfU3uc+nLdymMWo2/5x2SZXmAA/tG6fpBBqJW5V+3CIiq/PFa2oNdf5WNZOn6qwRErci/9uQXXbkqv5EFOPAmiUQKoi6yfui7UPNdybiRpMTc645hIZbfCw8Mrx/yrwH7AdGQPksBHBj4bAFixAdBJeI1YIF1/K6ozW8Y0Lj5U8pDso4KLWmKTSK8ji+0F8MFtDSIEGUoEc3CHmDpUWwqWnsxhPbT2IBXNmDS6PwpAfF1OdmT0gexwVVF90RZ8qM7HilK3Dc8hMnyexE7tfZEiexrw6I+eO+58EzMvU76pPSNd3MpFmtfm8jeRAzYfCz1xmPsCxPeGH7EpICd2nsTBV2NflXyDsf4Swwx91cQsPTlgdtO7f2lAnuEMeB3HyByNmKAf5aDhCLOxtkjzL/PG8uXUmBAbwSUmAu4GVuuueO+s8+7KNAS0d+XA8MxyiJ2+jl4OSElunv1uZ+3wAXFt6AKkbPh9qe51yE3Y8njd04l1gWfmcEqvI4YEH+N8VeUCpESv/INr/vMDO9zT0iuQiq07JQTcPo5gfAL3zzqPvfE++yaon4PG6mF+JoLcCtDIEyWuMy09+wa7/OHEX7GQeQLGRky4Q+eEfaeP+R+hlT5EKVCjHjDcZxZhkyYfOQh9DxDyvkcsNp6RyBMNj6DCTM0whJPEeV5DpjzWW71+xfCgJLGG+ia6R6dkCNz8z7Lzfc8vqI/kACTpTczsC02Wxk6IcdEdF6xJ3CmgqK+JxkpIkxnIIgzmRjCd3BC35kKXOdiKMpXKiEA0QEkEyav4adY+c/F4OsLk1wpJqzPsCNmMrGEZbCrCZxtwnc+DZUwjYfMwreVYSEEH2gWOJ+G74yhqJytR2iZXrwaPYA0QmgvQ8sFCBOmdEImRC8fIiRdD04YOieK56wvmpX+XcfbozNxjH7AzN+RxZNFCLTSiLO+4Oe10TyNsY8JHRe5R2IM8GUy/yUTAj1NxHltPAXGDzJhuZ7uIWI9Bs+6HtiaCfJlMtEFMBZgtIg6c4+nIUWOh8myswW8O3ic49jpeM46+jmMR3M0pW+w0UWdm8hxtIJOzmmSyUwQ0bZXJBG6cwmJKix9gJ0HHXn2ZSIHPr/04ZFM+KYehUiX/zaIhLDMW88logjBZ9CqrcgS35b9ehqK+OmarEOYoyGcQQs+R5gWEI2b7iNLzIjPySr8D0iFpHOEwWdBK8ofFFfz3FUiM6M0IyWeBQ0/DDqymejI3+k0EJF4qdI3kBMkn+cNLRN1lUJo3GTqIMaZN2SDgLX1KWeyQ/JvVdcfvpE1iBsZXsJYxpk0+VLXD4zvJLVEy1EImd+NgO7pw3WJEg4tJabTrIwz6TpFhUnIHjD6uxEY32+hqs0HSqBwh/UmHZSZSMgZ5Hbr5FloXat0xcoY834LpnaGqjxcJWMBUW4aVKINOeOns6PKzH7c/Xr8ylRAxb2jhOU9M/r3D9fxfBhxfyYC0cG0pPcbcmXYRUy+Y9jLF/+emdiz51X1fbyBuoiemEiV+s/w0m8E4+OH2MdD4t8VFLdxQW9elVkBkfgiBhkwc8N0NaRG+utImd73RF3EUPUHYps7SowOkwpnota2oxkfH6jvCWR5ZxftvWtq8wODh/Eh3jABsl+0lLyi9DPY3rtGfHcecqGPMD4sRG/DBYgZvz0QCRnfnUd4/6He/GHAAVGhSEesAwHxztr3BJ/K+v7D6HdY6i1yqSSAWM9AAbGlEjYPM7/DMuo9pPr3d3x8SP6mIP4ke1Ga9/kRgQh5D2n4XbLxgMTaLonnYp0ASO49JWdphOUfYUDQu2SD7wPWm/+Js6UGBTFQSXmmIFlRs7PUr7v+GvT4sPcBB97pTGtXdGWRhliOyG7qPymGODtE/7bSdbDsrxFI2N7LTW799qRBRQz7G6qLmR2iWb2F+M2/AwX8Xm5v501/YHF3xiwNMVm6+enje05L/maH6DZqXdAX+uHvVkdT0d077N8jS5bGIh2x/MadjfWZ5zcG2UKN2aFFlkT8a49wlzAJqYTdBFUnL8AEEIeoiMjhPMdOtZ5+TvEwFmCsjVpy3S0YI9JRFsJETbVtlNJQ88tsHGJ5/2c9/XOfWp0wAyI7dZyNWqNQ0AgTC1ZUJG4LihxczAQq7+/TS0FjMfYaPbGdjRaZyzAR4mVTgAojhsdSFfn+pzEEALT3oPQWQzkIE+OKBkpHMaLHUodvR+I+MTI87PmfWQggsggcFIONGRhhYR5W8iKHihEdtTwbHHzaoatxZHRwcNRFNICAyeSVos6TAiEbYaLI1EEJIA7ZOSUe/eAz+qwbfoLuwrDR/SjdVQWl9OV7uG0BJEwknoEAHUQ8UANGaCkQBoic809ipGcnTBxAEfFQh2YbIB0aHt0D5CB++AyEiQPYjbW1MbQ4CyC070oDCNhgAGQiBCNaLhENmJlw0bolUAUyAbIRJkaB321FDXbCEfgMxDLKNHY2wsRoB/r1s4sOIXVuuYSL4BmIZjnb0BkJE0/BiI1Zi/AWjb4RXUgYaPqNYMLOLFyBnaeMI2clTAzeQsdgJG1Cy+s0Gn43YqBfIDUPjXjiIURuB1kHzkyYGDyglHSRMtIlxJCLs0galqAfFhftX3MRGsYBMyCAEPsb0EiciD9Ek8UOB6HB6GPghGgyQuaLQ9iwY10UHpqfw3DCBvMUhBMmEpDJ6MnakF0G6WateclDeAsbMpAQEjYCealhzb9ZezZ2fwkm7EAslIcw8fSWdTYCM2+mSyZvQRbKRYhyuBG2AcknNDpMeZowIasaZRPyKJCTEM9GhjFJJjTAM1CEEIX/eDVKJTSSgCAvgxBncXHDkkhoGOxZmjTCROJJh65HaYRGsvOEf5gChGg6DtPaVJIIjfIw3wSUQZgojN6SGaUQGuXb0Zh2YV8J0XTEjNEDFCc0MB/3BJREiPT45Fk5MiEXJTQa5WdPxPQnhzCBY0c5ok0mRoj4eOODX6QQInlyawSNVYDQMBq3Au7TJ7IIkbUedMq+8MFLaCTLnQNx63RFHmECW+vwSLKrSh5C9OGR4QOe9JMoUgmRPD247ZRtg4USok+VO7cHT+WpzxLZhMhaB0cxZcOAEKKJh+lGByXjJfpBiKUw+GT02XCHmbA8/Gz0SR/osPSH0JLBwQIiRIGkgfRp+F2t/Qv0F0yIpX/D6COhK4WnowfPbm87nevrsrVRr3x93enc3j47GJU956LkfxmRQKVpb10hAAAAAElFTkSuQmCC"}),e.message,Z.a.createElement("div",null,Z.a.createElement("span",null,"like ",e.likesCount)))},lt=ge(15),it=Object(de.a)({form:"AddNewPost"})((function(e){return Z.a.createElement("form",{onSubmit:e.handleSubmit},Z.a.createElement("div",null,Z.a.createElement(pe.a,{typefield:"textarea",component:Ae,name:"newPostBody",placeholder:"Write here",validate:[lt,Ee]})),Z.a.createElement("div",null,Z.a.createElement("button",null,"Add posts")))})),st=function(e){var t=Object(c.a)(e.posts).reverse().map((function(e){return Z.a.createElement("div",{key:e.id},Z.a.createElement(ct,{message:e.message,likesCount:e.likesCount}),Z.a.createElement("button",{onClick:function(){n(e.id)}},"delete"))})),n=function(t){e.deletePost(t)};return Z.a.createElement("div",{className:at.a.postsBlock},Z.a.createElement("h3",null," My post"),Z.a.createElement(it,{onSubmit:function(t){e.addPost(t.newPostBody)}}),Z.a.createElement("div",null,"New post"),Z.a.createElement("div",{className:at.a.posts},t))},ut=Object(re.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{addPost:function(e){return{type:"ADD-POST",newPostBody:e}},deletePost:function(e){return{type:"DELETE_POST",idPost:e}}})(st),mt=function(e){return Z.a.createElement("div",null,Z.a.createElement(tt,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfileChanges:e.saveProfileChanges}),Z.a.createElement(ut,null))},ft=function(e){Object($.a)(n,e);var t=Object(ee.a)(n);function n(){return Object(Y.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authId)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Z.a.createElement("div",null,Z.a.createElement(mt,Object.assign({},this.props,{profile:this.props.profile,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto})))}}]),n}(Z.a.Component),pt=Object(S.d)(Object(re.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authId:e.auth.id}}),{getProfile:j,updateStatus:function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(O(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.getStatus(e);case 2:a=t.sent,n(O(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.savePhoto(e);case 2:0===(a=t.sent).data.resultCode&&n({type:"SAVE_PHOTO_SUCCESS",photos:a.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfileChanges:function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n,a){var o,c,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a().auth.id,t.next=3,b.saveProfileChanges(e);case 3:if(0!==(c=t.sent).data.resultCode){t.next=8;break}n(j(o)),t.next=12;break;case 8:return l=c.data.messages.length>0?c.data.messages[0]:"Some error",n(Object(i.a)("changeProfileInfo",{_error:l})),t.abrupt("return",Promise.reject(c.data.messages[0]));case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),se.g)(ft),dt=n(69),Et=n.n(dt),gt=n(136),ht=n.n(gt),bt=function(e){return Z.a.createElement("header",{className:Et.a.header},Z.a.createElement("div",{className:Et.a.logoBlock},Z.a.createElement("img",{className:Et.a.logoImg,src:ht.a}),Z.a.createElement("span",null,"MessageMe")))},vt=ge(30),At=Object(de.a)({form:"login"})((function(e){return Z.a.createElement("form",{onSubmit:e.handleSubmit},Z.a.createElement("div",null,Z.a.createElement(pe.a,{placeholder:"Email",name:"email",component:Ae,typefield:"email",validate:[Ee,vt]})),Z.a.createElement("div",null,Z.a.createElement(pe.a,{placeholder:"Pasaword",component:Ae,typefield:"password",name:"password",validate:[Ee,vt]})),Z.a.createElement("div",null,Z.a.createElement(pe.a,{component:Ae,typefield:"checkbox",name:"rememberMe"}),"remember me"),Z.a.createElement("div",null,Z.a.createElement("button",null,"Login")),e.error&&Z.a.createElement("div",{className:ve.a.formSummaryError},e.error),e.captchaUrl&&Z.a.createElement("div",null,Z.a.createElement("img",{src:e.captchaUrl,alt:"captcha"}),Z.a.createElement(pe.a,{component:Ae,typefield:"text",name:"captcha",validate:[Ee]})))})),Ot=Object(re.b)((function(e){return{isLogin:e.auth.isLogin,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,n,a){return function(){var c=Object(o.a)(r.a.mark((function o(c){var l,s;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g(e,t,n,a);case 2:0===(l=r.sent).data.resultCode?c(x()):(10===l.data.resultCode&&c(H()),s=l.data.messages.length>0?l.data.messages[0]:"Some error",c(Object(i.a)("login",{_error:s})));case 4:case"end":return r.stop()}}),o)})));return function(e){return c.apply(this,arguments)}}()}})((function(e){return e.isLogin?Z.a.createElement(se.a,{to:"/profile"}):Z.a.createElement("div",null,Z.a.createElement("h1",null,"LOGIN romanchaus519@gmail.com"),Z.a.createElement(At,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl}))})),jt=function(e){Object($.a)(n,e);var t=Object(ee.a)(n);function n(){var e;Object(Y.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).catchAllUnhandledErros=function(){alert("Something goes wrong")},e}return Object(_.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErros)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErros)}},{key:"render",value:function(){return this.props.initialized?Z.a.createElement("div",{className:"app-wrapper"},Z.a.createElement(bt,null),Z.a.createElement(ie,null),Z.a.createElement("div",{className:"app-wrapper-content"},Z.a.createElement("div",null),Z.a.createElement("div",null,Z.a.createElement(se.d,null,Z.a.createElement(se.b,{render:function(){return Z.a.createElement(pt,null)},path:"/profile/:userId?"}),Z.a.createElement(se.b,{render:function(){return Z.a.createElement(Pe,null)},path:"/dialogs"}),Z.a.createElement(se.b,{render:function(){return Z.a.createElement(Je,null)},path:"/users"}),Z.a.createElement(se.b,{render:function(){return Z.a.createElement(Ot,null)},path:"/login"}),Z.a.createElement(se.b,{render:function(){return Z.a.createElement("div",null,"Not found")},path:"/*"}))),Z.a.createElement("div",null))):Z.a.createElement(Le,null)}}]),n}(Z.a.Component),wt=Object(S.d)(se.g,Object(re.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(x());Promise.all([t]).then((function(){e({type:"INITILIZED_SUCCESS"})}))}}}))(jt),yt=function(){X.a.render(Z.a.createElement(ae.a,{basename:""},Z.a.createElement(re.a,{store:J},Z.a.createElement(wt,null))),document.getElementById("root"))};yt(),J.subscribe((function(){yt()})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t,n){e.exports={formControl:"FormControls_formControl__1Eud6",error:"FormControls_error__3hvYe",formSummaryError:"FormControls_formSummaryError__3NpTz"}},35:function(e,t,n){e.exports={discriptionBlock:"ProfileInfo_discriptionBlock__3ALBk",aboutInfo:"ProfileInfo_aboutInfo__2XHHS",fullName:"ProfileInfo_fullName__nWygg",avatar:"ProfileInfo_avatar__1qyGf",profileBlock:"ProfileInfo_profileBlock__3_PQZ",profileContactsBlock:"ProfileInfo_profileContactsBlock__18v-S"}},36:function(e,t,n){e.exports={nav:"Navbar_nav__8iich",activeLink:"Navbar_activeLink__3eRJP",item:"Navbar_item__2a6kL"}},69:function(e,t,n){e.exports={header:"Header_header__1kxnu",logoImg:"Header_logoImg__-b0Oa"}},91:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__1PUA0",allPages:"Paginator_allPages__3dOOc"}},92:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__1uREw"}},93:function(e,t,n){}},[[162,1,2]]]);
//# sourceMappingURL=main.973a2176.chunk.js.map